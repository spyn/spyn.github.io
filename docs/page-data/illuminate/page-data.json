{"componentChunkName":"component---src-templates-blog-post-js","path":"/illuminate/","result":{"data":{"site":{"siteMetadata":{"title":"360 Degrees of Awesome","author":"Mattie Ellins"}},"markdownRemark":{"id":"aa4e161a-8832-54fa-8332-34cb1eb710ef","excerpt":"Over the last week I've been looking into creating a basic web-service to easily interact with my lights around my flat. Currently, I have two Yeelights and aâ€¦","html":"<p>Over the last week I've been looking into creating a basic web-service to easily interact with my lights around my flat. Currently, I have two Yeelights and a LightPack, which is located on the back of my TV.</p>\n<h3>Stuff tied into this</h3>\n<ul>\n<li><a href=\"https://www.raspberrypi.org/products/model-b/\">Raspberry Pi 1 Model B</a></li>\n<li><a href=\"https://play.google.com/store/apps/details?id=net.dinglisch.android.taskerm&#x26;hl=en\">Tasker</a></li>\n<li><a href=\"https://play.google.com/store/apps/details?id=com.joaomgcd.autovoice&#x26;hl=en\">AutoVoice</a></li>\n<li><a href=\"https://hyperion-project.org/\">Hyperion</a></li>\n<li><a href=\"http://www.lightpack.tv/\">Lightpack 1</a></li>\n<li><a href=\"https://www.aliexpress.com/item/Original-Xiaomi-Yeelight-II-Smart-LED-Bulb-E27-9W-600-Lumens-Mi-Light-Smart-Phone/32671682019.html\">Yeelights</a> (~$20 USD)</li>\n<li><a href=\"http://yeelight.readthedocs.io/en/stable/index.html\">python-yeelight</a></li>\n</ul>\n<h3>Cool things it can do RIGHT NOW</h3>\n<ul>\n<li>Turn lights on when my phone connects to WiFi</li>\n<li>Notifications lights from my phone, passed on by Tasker </li>\n<li><a href=\"http://ifttt.com\">IFTTT</a> events </li>\n<li>Voice activated lighting cues, eg <em>OK GOOGLE DIM LIGHTS</em>, turn off, shut up etc using AutoVoice with Tasker</li>\n<li>Basic <a href=\"/images/illuminate_webinterface.png\">web dashboard</a> to fire off effects to devices </li>\n<li>Using <a href=\"http://sleep.urbandroid.org/documentation/developer-api/intents-and-content-providers/\">intents</a> from (Sleep As A Droid)[https://play.google.com/store/apps/details?id=com.urbandroid.sleep&#x26;hl=en], turn off my lights when it's time to go to bed</li>\n<li><del>Let people on the internet mess around with my light globes; this is a good idea</del></li>\n</ul>\n<h3>Cool things I'm thinking about doing with it</h3>\n<ul>\n<li>\n<p>Automatically adjust globe brightness depending on sunrise and sunset</p>\n<ul>\n<li>Get GPS co-ordinates <a href=\"http://thegpscoordinates.net/australia/perth\">from here</a></li>\n<li>Then use this API to return the current sunrise/sunset <a href=\"http://sunrise-sunset.org/api\">http://sunrise-sunset.org/api</a></li>\n<li>So, Perth would be <a href=\"http://api.sunrise-sunset.org/json?lat=-31.953&#x26;lng=115,8575&#x26;date=today\">http://api.sunrise-sunset.org/json?lat=-31.953&#x26;lng=115,8575&#x26;date=today</a> (Adjust for GMT obvs)</li>\n</ul>\n</li>\n<li>Audio queues and text to speech from the Raspberry Pi</li>\n</ul>\n<h3>The CODE</h3>\n<p>I'm running a SimpleHTTP server in Python to handle all GET requests. The requests check to see, firstly, if the device exists and if so, what effect to run on it. As an example: <a href=\"http://localhost:5000/device/effect\">http://localhost:5000/device/effect</a>. I thought this would make it easy to simply craft a HTTP GET rather than posting JSON to it. Also means I can use Tasker without having to use the Send/Except plugin, which is fine and also great, but takes a bit to setup. Not that I'm lazy or anything. It also means I can use IFTTT's Maker to easily hit the <em>AIR QUOTES</em> API <em>AIR QUOTES</em></p>\n<p>You can <a href=\"https://github.com/spyn/illuminate\">view my source on github</a>. It was written over a few days and strongly requires a re-factor.</p>\n<h3>Setting up Tasker</h3>\n<p>This can be a repetative process, but you can also copy the tasks you edit. AutoVoice is completely optional of course, and only if you're a giant nerd and want to tell OK Google to do stuff. Also excuse the ridiculously sized images. </p>\n<p>Creating a task is fairly simple. You just need to use HTTP Get to push commands off to the Python <em>webapi</em></p>\n<ul>\n<li>While on the tasks tab...</li>\n<li>New Task Name => ~whateva~</li>\n<li>Plus => Net => HTTP Get</li>\n<li>Enter the URL for the illuminate webserver and the device and effect, eg. <a href=\"http://10.1.1.69:5000/cool_light/good_effect\">http://10.1.1.69:5000/cool_light/good_effect</a></li>\n</ul>\n<p>So, my profile for my Snapchat notification is this: <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7304e224baf922b81cec565fc379ffce/5a46d/illuminate_tasker_profiles_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAIAAAAGkY33AAAACXBIWXMAAAsTAAALEwEAmpwYAAAD3klEQVRIx6XVy27rRBgA4HmDHlhnc6RIXVRd9yHgDZB4AngBEFtYg1iDxAYOom1OoCrpEWolDu1pnDTGsZ3Ut9rx+DZ26iS+jm9BsZvSS1KQ+smyLM381u//nxmDWq324r33X6yxsbFRq9W2trbq9XqtVtvc3Nze3t7Z2anX6y9fvgS7u7/89OMPu+s1Go1ms9loNPb395ulg4ODvb29RqMBroY97ryhm8gwdMMwzDuMJV3Xbx8qoihCCAFFUeTfFMOyDMv2aYbq0/0+XWFK9H0syzIM0y8ngR7R7hHnR4cHrYPf3r39k+wQnXa7TRDdbrfVah0dHXW73Xap0+mcnZ01m82jN2/OCeJduw1+7fGvL7ifz+hXp9Q+Mdi/4I5JlulTfZrulGia7i/RNE0QBEX25MuBwDJAjwI9ig0cGjiycG7i+STJs3QhK6V3eL7vz2ayMzmU7HPdBV7M+PHQj4eToJOkznyhmK/hjMdIUw8Z+aPW4Mu2DB4M50WRF2vdmbh4BipUNQ2q6kiUBMuy5k8aX7uOqZ/w8NMT8VsSAqc0Ho9N03Rd9+ngIAj86ZSzrl9dmsejMSiKIs/zNE2rxLIsW591UdUvStJxlMxwCobDIU3TvV6P4ziSJEVRfPR5/7Js21KV15T4YZP+/K0EHsxbF3ZTzlKaZQFOcJoBVDIMw3Ecy7KqO0Ioy7LHwdPZbOLYPRV9TWp7PAJXV1eyLIuiKMsyx3HVgyRJaZo+DnYnE9e2TiX9i9Or72kdrMvwv/q8ADiOGw6HzBLHcRRFqaq68o1oWbAPmsxnf0kgCII4jn3fD4IgiiKMcRiGSZKsDMYY4yhCs4C0pqLrgziOgyAwTRNCaBgGQkjTNAihaZp5gfM8K4p51eHHJQSu6zqOo+u6LMuqqgqC0O9TrjvxPM8K2mPXkGXFMAzLsiRJmk6nZTluLnDbwJVVm8+LqrfVQnxQM1CV0ff9MAzjOI6iyPf96XTqeV4xz4rl9qzCHpQdXJfYEs/zo1L1/U7Y9cKxoqiyLCOERqORpmmj0ci27WKxeeegysp1Xc/zqu1xZzFmVamSJMmX7qUdlsoW3PQJY7xub0RRFPq+6np/qG4PeeDy8pLneYZhLi4uhiUI4RPHkK3DFit/3Bp8dS4/b3kqiiIIQlWk6q4oiiiKGON1x9AxDz85Eb8hIbj9uWiapigKQsiyLNM04zh+HOz5vjdxGd35jtZ/l5znpf0/TtkVb8zKC8yfYbGrMMbxKri0ciiKojiOF6enKIq2bVv32bbN87wgCA+GTNN0HGcwGPA8DyCEVTC6z7ZtWFo5pJX+AQkvodtJH89TAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/7304e224baf922b81cec565fc379ffce/fc615/illuminate_tasker_profiles_1.avif 243w,\n/static/7304e224baf922b81cec565fc379ffce/e47c0/illuminate_tasker_profiles_1.avif 300w\"\n              sizes=\"(max-width: 300px) 100vw, 300px\"\n              type=\"image/avif\"\n            /><source\n              srcset=\"/static/7304e224baf922b81cec565fc379ffce/0e3e2/illuminate_tasker_profiles_1.webp 243w,\n/static/7304e224baf922b81cec565fc379ffce/c85cb/illuminate_tasker_profiles_1.webp 300w\"\n              sizes=\"(max-width: 300px) 100vw, 300px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/7304e224baf922b81cec565fc379ffce/8aea6/illuminate_tasker_profiles_1.png 243w,\n/static/7304e224baf922b81cec565fc379ffce/5a46d/illuminate_tasker_profiles_1.png 300w\"\n            sizes=\"(max-width: 300px) 100vw, 300px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/7304e224baf922b81cec565fc379ffce/5a46d/illuminate_tasker_profiles_1.png\"\n            alt=\"SnapeChatte in Tasker\"\n            title=\"SnapeChatte in Tasker\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>. To do this..</p>\n<ul>\n<li>While on the profile tab...</li>\n<li>\n<p>Press the plus button, then Add Event => UI Event => Notification</p>\n<ul>\n<li>Add Event</li>\n<li>UI Event</li>\n<li>Notification</li>\n<li>Owner Application => Select Snapechat, go back</li>\n<li>Enter Task</li>\n<li>Hyperion Yellow</li>\n<li>Hold down finger on the Hyperion Yellow task</li>\n<li>Add Task</li>\n<li>Yeelight K Yellow Blink</li>\n<li>Hold finger down on Notification</li>\n<li>Add State </li>\n<li>Net => Wifi Connected</li>\n<li>SSID => Enter your SSID for your WiFi</li>\n<li>Done!</li>\n</ul>\n</li>\n</ul>\n<p>Breaking it down...</p>\n<ul>\n<li>\n<p>Once we get a notification from the App Snapchat <em>AND</em> if we're connected to my local WiFi:</p>\n<ul>\n<li>Run task Hyperion Yellow, which will light my TV's backlights yellow</li>\n<li>Run task Yeelight K Yellow Blink, which will blink the kitchen Yeelight</li>\n</ul>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0173d6b60c477f3cc1da4ee637e66712/5a46d/illuminate_tasker_profiles_3a_task_edit.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAIAAAAGkY33AAAACXBIWXMAAAsTAAALEwEAmpwYAAABlUlEQVRIx+3VQYvaQBTA8fkGivXU6kFQUMSzn1Uo3vZSSmIusj3pQVlCDxaSyc7GwJhMZqIT8RI0M1FM6YiL23pYWOgpv9PA8Oe92wOdTufzl1qlUqlWq5+U0lW5XC6VSrVardvttlqter3ebrd7vV6/3282m41GA+i69v3bw1dlMBgMh0PjSlNe34Zh6LpuGMZ4PNY0bTQagedfT645ejJ//nh8nEwms9kMIQQhdByHEBKGIWNsuVzatr1eryGEtm1TSl3XDYIAMEoJCRFClmVhjFerFULoRWGMrf8RRdHlQSkFQghCiOd5vu9blpVlWf4OWZYRQkAURYwxSiljDCu+71NKd7sdxthxHM55nufn8/k2PisgTdP9fi+EkFKmaZokiVCOx+PhcEiSREp5d/ifOP8AcFngdpnXJW+/7scfmlzERVzERVzE/z3OskxKKYQ4nU7pW5e7k95z+QLT6RRCiDGez+e3N5VzvlQ453+d2DiOTdNcLBYAQhgEAWPMdd3NZsOv4jgOlTiO+Vvb7RYh5HnebyRb+GVpoGipAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0173d6b60c477f3cc1da4ee637e66712/fc615/illuminate_tasker_profiles_3a_task_edit.avif 243w,\n/static/0173d6b60c477f3cc1da4ee637e66712/e47c0/illuminate_tasker_profiles_3a_task_edit.avif 300w\"\n              sizes=\"(max-width: 300px) 100vw, 300px\"\n              type=\"image/avif\"\n            /><source\n              srcset=\"/static/0173d6b60c477f3cc1da4ee637e66712/0e3e2/illuminate_tasker_profiles_3a_task_edit.webp 243w,\n/static/0173d6b60c477f3cc1da4ee637e66712/c85cb/illuminate_tasker_profiles_3a_task_edit.webp 300w\"\n              sizes=\"(max-width: 300px) 100vw, 300px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0173d6b60c477f3cc1da4ee637e66712/8aea6/illuminate_tasker_profiles_3a_task_edit.png 243w,\n/static/0173d6b60c477f3cc1da4ee637e66712/5a46d/illuminate_tasker_profiles_3a_task_edit.png 300w\"\n            sizes=\"(max-width: 300px) 100vw, 300px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0173d6b60c477f3cc1da4ee637e66712/5a46d/illuminate_tasker_profiles_3a_task_edit.png\"\n            alt=\"Adding a HTTP Get request\"\n            title=\"Adding a HTTP Get request\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span> | <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c1bc62ce1ac7c22142f4671aeeef5d4e/5a46d/illuminate_tasker_profiles_3_httpget.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAIAAAAGkY33AAAACXBIWXMAAAsTAAALEwEAmpwYAAAD/0lEQVRIx6WUzU/jRhjG/R9QJZxaLiCEhBbO/KlcEBWHHmilEC5IdNumSMmGBhBRAtiJs3WcOOOP2Ikd2zN2PB+VPXE2fLW76k9WZM3k9bzzzPOMsLu7+/0PG4VCoVgsFgqF9fX1YrH4Xc7a2trGxsaHDx92dna2trb29vb29/cPDg62t7c3NzeFs7PSLz//dHz849HR0cnJyeHh4fHx8dnZWSnnPOP09PT8/LxcLpdKpYuLi1KpVC6XBbFZl+qlvxq3v338+EdGu90GAIwyNE3Tdf3p6alerwMAJEkSRREA0Ol0+v2+YOQMh0NN0xRFMQyDV4Kc4XCoqqq+gm3blmUJo9Go2+0oiiLLsiiKhmG4rjvNcDM8z/N9PwiCMAwhhFEUUUo7nc5kMhF6vd7d3V2z2Xx4eGg0GoqiTKdT27Ydx5lk8K/wT4RhGEVRkiQ3NzdpMXsOpYRgzChljBGCCc4fQighlNJsivI/C1EcP4qS1JU/K/1HUdItS1EHYrdb/VS/btwwxhJCMWUvnjkmmFIBYgK8sG9NdC8AbmAFyJhBxXIe/h50hvo0JpMIv37cOUWECZ7nOrYd+H4YBGEQBL4f+D4MwwhBBMPAn4WBD8MAwXQkjtA8jikh7nQSISQ8ieLl5a+yLDuTiWVZ1nhB+mKnpJJlis0yzSGECcaVyp+6rgtJkmCMkxz+vhzBGMdxHEVRHMfzjOVgKhil1MrQdd0wDNM0AQCqqvKFAQBJkrB3EDDGiqKoqjoYDPr9vqIoy99eBkKIpgf4DIwxpXTRNp/m3fLelh1GUYQQ4p3HccwHF8WSJFUqlWq1WqvV6vW6aZq5ZFwve9VhXDBCSLVaBQAIjuOYpmkYBne853mzHD+H10AIEUK8o9FoFMexkNlwAaWUfQupYIZhAAAMw5jNZpm93/0EzVnseXViPp/HbzHPWdqBLyAMh0NJktrtdmqyPIbLMC7Vms1mPNIIIULI4+OjbduCpmnNZvP29rbVamVm/I9inuf7+3vXdZ/lmR/1C/jgqqhLUVLB+FFZluX7/r8LtrrMQrAohytBvgK+vuB5Ht+qbdvj8dhxHO853C3cJ9ynGOPxeByGodDtdiuVSqvVury8rFQqsixPp1PuTS7+a3smSXJ1dWWapsAPkAeAn3P0ihdh5vlJBSOE8PZ830cIfZs9CSHT6ZQfbBiGXyPYl0jylniAIYThCjAHZSz7/1Isy3KtVvuUAQBwHMfOeVMwhBC/EtJi3/cty0qDpeveSoZXw8y74GV8ZUJIumf2PxAQQkEQMsbuneh3HTJGCX0bxpiqqq1WyzCMZrOZXkMQQtdL74CahUqDgDGC3/EjY6zX6zUaDU3Trq+vVVX9B325uLV4VfTIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/c1bc62ce1ac7c22142f4671aeeef5d4e/fc615/illuminate_tasker_profiles_3_httpget.avif 243w,\n/static/c1bc62ce1ac7c22142f4671aeeef5d4e/e47c0/illuminate_tasker_profiles_3_httpget.avif 300w\"\n              sizes=\"(max-width: 300px) 100vw, 300px\"\n              type=\"image/avif\"\n            /><source\n              srcset=\"/static/c1bc62ce1ac7c22142f4671aeeef5d4e/0e3e2/illuminate_tasker_profiles_3_httpget.webp 243w,\n/static/c1bc62ce1ac7c22142f4671aeeef5d4e/c85cb/illuminate_tasker_profiles_3_httpget.webp 300w\"\n              sizes=\"(max-width: 300px) 100vw, 300px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/c1bc62ce1ac7c22142f4671aeeef5d4e/8aea6/illuminate_tasker_profiles_3_httpget.png 243w,\n/static/c1bc62ce1ac7c22142f4671aeeef5d4e/5a46d/illuminate_tasker_profiles_3_httpget.png 300w\"\n            sizes=\"(max-width: 300px) 100vw, 300px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/c1bc62ce1ac7c22142f4671aeeef5d4e/5a46d/illuminate_tasker_profiles_3_httpget.png\"\n            alt=\"Editing the Task\"\n            title=\"Editing the Task\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>My \"OK Google Dim Lights\" profile is as follows:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/02c7df980aa14b97cadc77c9d6adab00/5a46d/illuminate_tasker_profiles_2_autovoice.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAIAAAAGkY33AAAACXBIWXMAAAsTAAALEwEAmpwYAAADyUlEQVRIx6XVS2/iRhwA8PkG9L5cIiFFUZRzvkPVb9BD75X6AVZVr5V6XKnn9tJDt1UDSzfKkj0kUrfJBsNC/AL8IDaMX2OD3/iJqWw3aR7AVtqfLDTSzB/P/Gf+Y7C3t/fsWbVSqXy2TqVSqVar+/v7tVqtWq3u7u4eHBwcHh7WarWdnR1Qrx/9/usvf2zWaDSazWaj0ajX683C8fHx0dFRo9EAN8Mec9WQVaQosqIo6j3KLVmW7xolnuchhADH8f41TtE0RdMESeEESRBkiSqQD9E0TVEUUQwCPazdw65OT45bx6/fv/ur38E67XYbw7rdbqvVOj097Xa77UKn07m8vGw2m6dv315h2Pt2G/zZY199YH67JF9e4HVsUP/AnPVpisAJkuwUSJIkbpEkiWEY3u8JowFHU0AOfDkIlWihRIEWLdVoZcXLNMmlheQe1/M8xxEM62SsX8kmcEPKC4deOLT8TpwYq1y22sCYzZA0PaGEL1uD79sCeNS9zLJlttG9gXkbTOFUkuB0OuHHnKZpq61mc9NQ5XMWfnPO/9iHwCjMZjNVVU3T3B7s+75n24w2fzlSzyYzkGXZcrlMkqScWJqmm2edlfkL4mQWxE6UgOFwSJJkr9djGKbf7/M8/2R5/9F0XZuKr3D+iyb57bsxeDRuU9i/6SwkaepHcZSkABUURTEMQ9O08hchlKbp02DbcSxD703Ri750xCJwc3MjCALP84IgMAxTNsbjcZIkT4NNyzJ17WIsf3dx8zMpg00z/Ng+5wDDMMPhkL7FsiyO4xDCtetHtwn7vEk9/3sMfN8PgsAr+L4fhqHruovFYu3LoziOwtD0FszMhfYiD8633vNc1y0bYRhuSvsiCHzXEWfOG3HeUZ18nzmO5TiOIIhxASG0pTB0GbZo4avW4Ie7wrBt2zRN27bn87lpmgghwzDW7taDhKEJJY+J4YjrdjvX19cEQXS7XUmSdF3fHpytVsC3kD1T6EGecMdx4jj2fT8rKq6szm1vLnMTx/HTfUYLzHKQIIiTyUSW5ae5AEEQhEEAIZwWIISimI+WJClb5RWWJEkcx+Wt9DjYsizTNEejEcuysizbBcdxPM/bstpllj9gW0o+ejxFUeQ4DhbK2U4mE57noyjadA2dMdOvz/kXPQjuPi6SJImiiBDSNE1V1fKcPeJ6nmuZlGz8RMpvxsanVdX/uGXX/GNaPGD1CUAYhlEUhetEhbVd+ekIw7yqeJ7XdV17SNd1ls2r7VGXqqqGYQwGA5ZlAYSwDEYP6bpe7t/aLqnwD3+QouQTvvupAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/02c7df980aa14b97cadc77c9d6adab00/fc615/illuminate_tasker_profiles_2_autovoice.avif 243w,\n/static/02c7df980aa14b97cadc77c9d6adab00/e47c0/illuminate_tasker_profiles_2_autovoice.avif 300w\"\n              sizes=\"(max-width: 300px) 100vw, 300px\"\n              type=\"image/avif\"\n            /><source\n              srcset=\"/static/02c7df980aa14b97cadc77c9d6adab00/0e3e2/illuminate_tasker_profiles_2_autovoice.webp 243w,\n/static/02c7df980aa14b97cadc77c9d6adab00/c85cb/illuminate_tasker_profiles_2_autovoice.webp 300w\"\n              sizes=\"(max-width: 300px) 100vw, 300px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/02c7df980aa14b97cadc77c9d6adab00/8aea6/illuminate_tasker_profiles_2_autovoice.png 243w,\n/static/02c7df980aa14b97cadc77c9d6adab00/5a46d/illuminate_tasker_profiles_2_autovoice.png 300w\"\n            sizes=\"(max-width: 300px) 100vw, 300px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/02c7df980aa14b97cadc77c9d6adab00/5a46d/illuminate_tasker_profiles_2_autovoice.png\"\n            alt=\"AutoVoice in Tasker\"\n            title=\"AutoVoice in Tasker\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>\n<p>Once we get the voice command 'Dim Lights' <em>AND</em> if we're connected to my local WiFi</p>\n<ul>\n<li>Run task Yeelight Dim</li>\n</ul>\n</li>\n</ul>\n<p>The configuration for the above event looks like this: <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2559fe450f94f798fae07711bd8ad1ff/5a46d/illuminate_tasker_profiles_2a_autovoice.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAIAAAAGkY33AAAACXBIWXMAAAsTAAALEwEAmpwYAAADAklEQVRIx+2TTU/rRhSG/Q+atizDAgmxAdb8VRbAopuC1BsoC3Sv2KGqCUgJsWU7HpMM/pixxx/Eib/HNkl1Zy6US7kRVdVFpT6rWcw7c95z3iO02+3W9z/8+MTa2lqr1fqO0WK02+3t7e2tra2NjY2dnZ3d3d29vb3Nzc319XXhw4dfTn7+6fDw8Ojo6ODgYH9///j4+Pz8/Ozs7PT0tNPp/Mo4OTk5Y3Q6nYuLiw5D0MQe6J1e/fb7p08fr66uLi8vb29vAQCj0ciyLIyx67qqqna7Xdd1NU0bjUaO4wAATNMUiOu6hNi2fX9/bzAAALIsq6pq27bDsG3bNE33CcdxgiDwfV/wPG88HquqCiEcj8cAAEJImqZxHM8Y8/k8SZI0TbMsy/O8LMvHx0fHcQghgmEYoij2er1utzsYDG5ubiaTSRRFYRhOGVEUPT+RZVlZllVV6bqe57mwYCwZ/Nw0DaW0qqrmax4ZL+8LcRzbTxBm3rIsTdPiOF5+G64X6rouiqKqKm5muVzyH5bv4HPDRFEEACiKEoZh+UTBeK7wbXGapp7nBUGAEOKDJYRYlmWapmVZlNJVYkppHMdZlvF5TKfTNE2X70NwHGcwGKiqKkmSKIr9fl+SpCAIkiR5YKzwL5RlGTPm83kURQ8PD0EQYIx9Bsa4aZpVngkhXBMEwYqrb4gJIcPhkNd8fX1tmiYhn/OOMZ5Op88jfVtcM4qi4NHL8zxN0yRJoijinVu84LV4NptBCAkhGGOEEN8t3/dXT/iL2Pd9RVFkWZYkaTgc8o1VFMUwDISQaZoQQoSQrutJkrxyIfDE13VNKW2apq7risFzRiktioJSWpblX3sphGGoaRpf5jAMn02+q9tBEAAAuFUIoW3bk8mEF2wYxng8Lori5SZ9JU6SBGPMU21ZFmJACPlzCCHDMFzXhRDqun53d4cx/lNcVRV3m+f5t9ZgsVi8uadfQiLLcr/f9zxvdSpei+M4Rgj5vm/b9mw2+3vi5T9AWB3Af/nn/8X/CfEfsPTUGexh/uAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2559fe450f94f798fae07711bd8ad1ff/fc615/illuminate_tasker_profiles_2a_autovoice.avif 243w,\n/static/2559fe450f94f798fae07711bd8ad1ff/e47c0/illuminate_tasker_profiles_2a_autovoice.avif 300w\"\n              sizes=\"(max-width: 300px) 100vw, 300px\"\n              type=\"image/avif\"\n            /><source\n              srcset=\"/static/2559fe450f94f798fae07711bd8ad1ff/0e3e2/illuminate_tasker_profiles_2a_autovoice.webp 243w,\n/static/2559fe450f94f798fae07711bd8ad1ff/c85cb/illuminate_tasker_profiles_2a_autovoice.webp 300w\"\n              sizes=\"(max-width: 300px) 100vw, 300px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2559fe450f94f798fae07711bd8ad1ff/8aea6/illuminate_tasker_profiles_2a_autovoice.png 243w,\n/static/2559fe450f94f798fae07711bd8ad1ff/5a46d/illuminate_tasker_profiles_2a_autovoice.png 300w\"\n            sizes=\"(max-width: 300px) 100vw, 300px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2559fe450f94f798fae07711bd8ad1ff/5a46d/illuminate_tasker_profiles_2a_autovoice.png\"\n            alt=\"AutoVoice in Tasker Event\"\n            title=\"AutoVoice in Tasker Event\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3>Yeelights</h3>\n<p>Yes, you can ping your light globes now; what a future we live in.</p>\n<p>It took me a while to workout how to enable the TCP JSON service on these lights. Turns out you need to download the <a href=\"https://www.yeelight.com/en_US/developer\">Developer Mode</a> application, then enable developer mode on each light globe. Xiaomi have also included a very comprehensive <a href=\"https://www.yeelight.com/download/Yeelight_Inter-Operation_Spec.pdf\">API documentation</a>. But I'm being super lazy and using the <a href=\"http://yeelight.readthedocs.io/en/stable/index.html\">python-yeelight</a> package because it does pretty much everything I want it to do.</p>\n<h3>Overall</h3>\n<p>It was a pretty fun project. I think I'll need to upgrade my Raspberry Pi if I'm going to be adding text-to-speech. It's already processing video through to Hyperion!\nAlso, please don't DDoS my lightbulbs. Thank you kindly. </p>","frontmatter":{"title":"Yeelight and Hyperion tinkering","date":"2017, Feb 10","tags":["ambi-light","code","python","rpi"],"img":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAF1lGgnI4I//8QAGxAAAQQDAAAAAAAAAAAAAAAAAQIDERIAMkP/2gAIAQEAAQUCLtgJShuaNa8s/8QAFhEAAwAAAAAAAAAAAAAAAAAAEBIi/9oACAEDAQE/AWkf/8QAFhEBAQEAAAAAAAAAAAAAAAAAAwEQ/9oACAECAQE/AUOZ/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAECESAhkf/aAAgBAQAGPwJrhG7RvD//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhQRBRYYGx/9oACAEBAAE/IRQM9IzKDd1qXhWfJCabY5Hr7x//2gAMAwEAAgADAAAAEAvP/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARMf/aAAgBAwEBPxATrOzf/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/EAJqs//EABwQAQACAgMBAAAAAAAAAAAAAAEAESExEGFxUf/aAAgBAQABPxB7GJlzaxpwEtFerloQlooQ+TO08u4QaX28cf/Z"},"images":{"fallback":{"src":"/static/e2c2a89fdf1da4cf9c11f231272fb095/e83b7/yeelight.jpg","srcSet":"/static/e2c2a89fdf1da4cf9c11f231272fb095/5f965/yeelight.jpg 750w,\n/static/e2c2a89fdf1da4cf9c11f231272fb095/e83b7/yeelight.jpg 784w","sizes":"100vw"},"sources":[{"srcSet":"/static/e2c2a89fdf1da4cf9c11f231272fb095/06049/yeelight.avif 750w,\n/static/e2c2a89fdf1da4cf9c11f231272fb095/207f1/yeelight.avif 784w","type":"image/avif","sizes":"100vw"},{"srcSet":"/static/e2c2a89fdf1da4cf9c11f231272fb095/ee7ce/yeelight.webp 750w,\n/static/e2c2a89fdf1da4cf9c11f231272fb095/98e31/yeelight.webp 784w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},"pageContext":{"slug":"/illuminate/","previous":{"fields":{"slug":"/boblight-and-steamos/"},"frontmatter":{"title":"boblightd and SteamOS","tags":["steamos","gaming","linux","ambi-light"],"img":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKElEQVQoz2NgwABMDCxMDAKcLIqi7Ea8LOoMDNyMDEwMxABGBkZWRjFjsbA67eWz9Y9M0z0QKd3EwSzPQFA/IyMDAwO7lqjXkqDj59KfH025X266pM1gc5JCNwODICMRmnmK/SZfn/vhxdbPs8p22+vnB+h2LHY7pcTnDJXHA5gY2PUVbXvLFhzccF5PKSXQfuLK9sv3J3wykYwAyeLRDpZiNtFxdjQPkBOyKktfeGjrvVUTzpYGr3fSbhDlVYMECj7NuoruW1edXDh126Pbb67vex5qvkyUOS/Eatmc+gPsLDz49DMxMjEwcGnKu8zq37Br85np1btmFJ2eXHph37InPfULmBiZoXGC2/FMDAysjAxC/GxavCzqeooe/vapNkY+bKzcaDoBfKNTD8JqSqIAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/b6be248cdf669a402169b8e714366c6c/743e0/steamos-boblight.png","srcSet":"/static/b6be248cdf669a402169b8e714366c6c/4a226/steamos-boblight.png 750w,\n/static/b6be248cdf669a402169b8e714366c6c/743e0/steamos-boblight.png 785w","sizes":"100vw"},"sources":[{"srcSet":"/static/b6be248cdf669a402169b8e714366c6c/7d222/steamos-boblight.webp 750w,\n/static/b6be248cdf669a402169b8e714366c6c/6e09c/steamos-boblight.webp 785w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.43312101910828027}}}}},"next":{"fields":{"slug":"/wled-led-lamp/"},"frontmatter":{"title":"WLED LED Floor Lamp","tags":["home-automation","wled","argb","ws2812b"],"img":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABYBAQEBAAAAAAAAAAAAAAAAAAIAA//aAAwDAQACEAMQAAABlRC3R6pnDv/EABsQAAEEAwAAAAAAAAAAAAAAAAIAAQMEETJB/9oACAEBAAEFArRjiuTOdgxCZlyXb//EABURAQEAAAAAAAAAAAAAAAAAAAEA/9oACAEDAQE/ARlb/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQACEv/aAAgBAgEBPwE03bf/xAAaEAACAgMAAAAAAAAAAAAAAAACEQABEiAx/9oACAEBAAY/AhwXIjSljQ6f/8QAGhABAQADAQEAAAAAAAAAAAAAAQARMVFBsf/aAAgBAQABPyEA+ZcQFAu2fWHG2ja+N//aAAwDAQACAAMAAAAQ6B//xAAWEQEBAQAAAAAAAAAAAAAAAAABEQD/2gAIAQMBAT8QVbhMu//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QYdpLD//EABsQAAIDAAMAAAAAAAAAAAAAAAEhABExEHGh/9oACAEBAAE/ENux07NkO4eQAaCKKN0DOLxTXpP/2Q=="},"images":{"fallback":{"src":"/static/efcf93154f9b68dc09f945a81b6f4870/fb1ca/hero.jpg","srcSet":"/static/efcf93154f9b68dc09f945a81b6f4870/f6e84/hero.jpg 750w,\n/static/efcf93154f9b68dc09f945a81b6f4870/fb1ca/hero.jpg 785w","sizes":"100vw"},"sources":[{"srcSet":"/static/efcf93154f9b68dc09f945a81b6f4870/7d222/hero.webp 750w,\n/static/efcf93154f9b68dc09f945a81b6f4870/6e09c/hero.webp 785w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.43312101910828027}}}}}}},"staticQueryHashes":["2478211480","63159454"]}